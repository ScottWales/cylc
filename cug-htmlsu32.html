<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<!--http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd-->  
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head><title>Task Definition</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<!-- xhtml,3,next,html --> 
<meta name="src" content="cug-html.tex" /> 
<meta name="date" content="2011-08-14 00:27:00" /> 
<link rel="stylesheet" type="text/css" href="cug-html.css" /> 
</head><body 
>
   <!--l. 2453--><div class="crosslinks"><p class="noindent">[<a 
href="cug-htmlsu33.html" >next</a>] [<a 
href="cug-htmlsu31.html" >prev</a>] [<a 
href="cug-htmlsu31.html#tailcug-htmlsu31.html" >prev-tail</a>] [<a 
href="#tailcug-htmlsu32.html">tail</a>] [<a 
href="cug-htmlse7.html#cug-htmlsu32.html" >up</a>] </p></div>
   <h4 class="subsectionHead"><span class="titlemark">7.4   </span> <a 
 id="x51-790007.4"></a>Task Definition</h4>
<!--l. 2456--><p class="noindent" >A task&#8217;s position in the suite dependency graph determines its relationship to other tasks and its valid cycle times.
Other properties such as execution environment and the command scripting used to invoke task processing are
defined under the suite.rc <span class="lstinline"><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">tasks</span><span 
class="pcrr7t-">]</span></span> section.
</p><!--l. 2462--><p class="indent" >   Note that there is not necessarily a one-to-one mapping between tasks defined in the suite.rc file and the external
commands, scripts, or programs that implement them. Multiple tasks can call the same script (etc.) with varying
inputs supplied by their respective command lines and execution environments.
</p><!--l. 2468--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">7.4.1   </span> <a 
 id="x51-800007.4.1"></a>A Task Definition Example</h5>
<!--l. 2471--><p class="noindent" >The following rather trivial suite of two tasks illustrates the important aspects of task definition:
</p>
   <!--l. 2474-->
   <div class="lstlisting" id="listing-52"><span class="label"><a 
 id="x51-80001r1"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">SUITE</span><span 
class="pcrro7t-">.</span><span 
class="pcrro7t-">RC</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80002r2"></a></span><span 
class="pcrr7t-">title</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">A</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">two</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">task</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">test</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80003r3"></a></span><span 
class="pcrr7t-">description</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">Used</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">as</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">an</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">example</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">in</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">Section</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">7.4</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">of</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">User</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">Guide</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80004r4"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">dependencies</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[0,12]]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">For</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">cycle</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">times</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">ending</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">in</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">00</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">and</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">12</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">hours</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80006r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">A</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">B</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">B</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">triggers</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">when</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">A</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">successfully</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">finishes</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80007r7"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">environment</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">GLOBAL</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">ENVIRONMENT</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80008r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">NEXT_CYCLE</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">util</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cycletime</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">a</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">12</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80009r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PREV_CYCLE</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">util</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cycletime</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">s</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">12</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80010r10"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">tasks</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80011r11"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">A</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">TASK</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">A</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">PROPERTIES</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80012r12"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">description</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">Task</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">A</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">does</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">something</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80013r13"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">command</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">A</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">sh</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80014r14"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">environment</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Task</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">A</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">environment</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80015r15"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INPUT</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">-</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">NEXT_CYCLE</span><span 
class="pcrr7t-">}.</span><span 
class="pcrr7t-">txt</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80016r16"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">B</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">TASK</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">B</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">PROPERTIES</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80017r17"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">description</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">Task</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">B</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">does</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">something</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">else</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80018r18"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">command</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">B</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">sh</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">f</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80019r19"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">environment</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Task</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">B</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">environment</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-80020r20"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INPUT</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">-</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">NEXT_CYCLE</span><span 
class="pcrr7t-">}.</span><span 
class="pcrr7t-">txt</span>
   
   </div>
<!--l. 2497--><p class="indent" >   Note the task names in the suite dependency graph, the command scripting for each task, and the global and
task-specific environment sections.
</p><!--l. 2500--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">7.4.2   </span> <a 
 id="x51-810007.4.2"></a>Task Names</h5>
<!--l. 2503--><p class="noindent" >Task names can contain letters, digits, and underscores. Task names should not be hard wired into task
implementations (scripts, models, etc.) because task and suite identity can be extracted portably from the task
execution environment supplied by the suite (Section&#x00A0;<a 
href="#x51-830007.4.4">7.4.4<!--tex4ht:ref: TaskExecutionEnvironment --></a>) - then to rename a task, just change the name in the
suite.rc file.
</p><!--l. 2510--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">7.4.3   </span> <a 
 id="x51-820007.4.3"></a>Defining Multiple Tasks At Once</h5>
<!--l. 2513--><p class="noindent" >Groups of similar tasks that differ only in a few configuration details can be defined in single suite.rc task
definition sections. Potential applications include groups of similar obs processing tasks, and forecasting
ensembles.
</p><!--l. 2518--><p class="indent" >   Groups of similar tasks are likely to be candidates for treatment as task families, but they don&#8217;t have to
be.
</p><!--l. 2521--><p class="indent" >   For tasks families, the task names can be defined by an explicit list of names, or a generator expression, under
<span class="lstinline"><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">task</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">families</span><span 
class="pcrr7t-">]</span></span>, then the family name can be used in place of individual task names under the <span class="lstinline"><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">tasks</span><span 
class="pcrr7t-">]</span></span>
section, and subsequent configuration items will then apply to each member of the group. For non-family groups, the
list of explicit names or the generator expression can take the place of the individual task names under <span class="lstinline"><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">tasks</span><span 
class="pcrr7t-">]</span></span>.
                                                                                         

                                                                                         
Finally, because at least a few configuration items will need to vary across the otherwise similar tasks, cylc
replaces the variable <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">TASK</span><span 
class="pcrr7t-">)</span></span> with the actual task name, at task definition time, in all configuration
items.
</p><!--l. 2533--><p class="indent" >   The annotated example suites,  </p>
     <ul class="itemize1">
     <li class="itemize"><span class="lstinline"><span 
class="pcrr7t-">examples</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">generator_explicit</span></span>
     </li>
     <li class="itemize"><span class="lstinline"><span 
class="pcrr7t-">examples</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">generator_expression</span></span></li></ul>
<!--l. 2538--><p class="noindent" >show exactly how to use this new feature. See also Appendix&#x00A0;<a 
href="cug-htmlsu69.html#x100-186000A.8">A.8<!--tex4ht:ref: SuitercTasks --></a>.
</p><!--l. 2540--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">7.4.4   </span> <a 
 id="x51-830007.4.4"></a>Task Execution Environment</h5>
<!--l. 2543--><p class="noindent" >The task execution environment comprises variables automatically defined by cylc, and global and task-specific
variables defined in the suite.rc file. These variables are explicitly exported prior to executing the task command
scripting (to see how this is implemented go to Section&#x00A0;<a 
href="cug-htmlse9.html#x61-1030009">9<!--tex4ht:ref: TaskExecution --></a>, <span 
class="cmti-10">Task Execution</span>).
</p><!--l. 2550--><p class="noindent" >
</p>
<!--l. 2550--><p class="noindent" ><span class="paragraphHead"><a 
 id="x51-840007.4.4.1"></a><span 
class="cmbx-10">Suite And Task Identify</span></span>
   The task&#8217;s name and cycle time are defined before the global variables, so global variables can actually be made
task- and cycle-specific by referencing them.
</p><!--l. 2557--><p class="indent" >   An executing task will almost certainly need to use its own cycle time: </p><!--l. 2558-->
   <div class="lstlisting" id="listing-53"><span class="label"><a 
 id="x51-84001r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYCLE_TIME</span>
   
   </div>
<!--l. 2561--><p class="indent" >   It may also need the location of its suite definition directory, to access files stored there, </p><!--l. 2563-->
   <div class="lstlisting" id="listing-54"><span class="label"><a 
 id="x51-84002r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYCLE_SUITE_DIR</span>
   
   </div>
<!--l. 2566--><p class="indent" >   And it may need to use the task and suite identity variables (e.g.&#x00A0;to make portable suites that write all output
to suite-specific locations): </p><!--l. 2568-->
   <div class="lstlisting" id="listing-55"><span class="label"><a 
 id="x51-84003r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_SUITE</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">e</span><span 
class="pcrro7t-">.</span><span 
class="pcrro7t-">g</span><span 
class="pcrro7t-">.</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">foo</span><span 
class="pcrro7t-">:</span><span 
class="pcrro7t-">bar</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-84004r2"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_SUITE_GROUP</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">foo</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-84005r3"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_SUITE_NAME</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">bar</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-84006r4"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">TASK_NAME</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">X</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-84007r5"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">TASK_ID</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">X</span><span 
class="pcrro7t-">%2011051118</span>
   
   </div>
<!--l. 2576--><p class="indent" >   These variables are also used automatically by the cylc task messaging commands, to target the right task proxy
object in the right suite.
</p><!--l. 2579--><p class="noindent" >
</p>
<!--l. 2579--><p class="noindent" ><span class="paragraphHead"><a 
 id="x51-850007.4.4.2"></a><span 
class="cmbx-10">Task Access To Cylc</span></span>
   Task execution environments are automatically configured to give the executing task access to cylc commands
and utilities. This is done prior to exporting user-defined variables so that cylc utility commands can be used in
variable assignment expressions. For example: </p><!--l. 2585-->
                                                                                         

                                                                                         
   <div class="lstlisting" id="listing-56"><span class="label"><a 
 id="x51-85001r1"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">SUITE</span><span 
class="pcrro7t-">.</span><span 
class="pcrro7t-">RC</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-85002r2"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">environment</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x51-85003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">FOO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">util</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cycletime</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">add</span><span 
class="pcrr7t-">=6</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">)</span>
   
   </div>
<!--l. 2591--><p class="noindent" >
</p>
<!--l. 2591--><p class="noindent" ><span class="paragraphHead"><a 
 id="x51-860007.4.4.3"></a><span 
class="cmbx-10">Global And Task-Specific Environment Variables</span></span>
   Generally speaking, parameters common to several tasks should be defined once in the global environment
section of the suite.rc file; and those needed by a single task, in the task-specific environment section. Task-specific
variables can reference global variables.
</p><!--l. 2598--><p class="indent" >   Order of definition is preserved for user-defined global and task-specific environment variables, so you can safely
refer to previously defined variables.
</p><!--l. 2602--><p class="noindent" >
</p>
<!--l. 2602--><p class="noindent" ><span class="paragraphHead"><a 
 id="x51-870007.4.4.4"></a><span 
class="cmbx-10">When Are Environment Variables Evaluated?</span></span>
   Environment variables are <span 
class="cmti-10">not </span>evaluated by cylc prior to executing the task. They are written, in unevaluated
form, to the job script that is submitted by cylc to run the task (this is shown in Section&#x00A0;<a 
href="cug-htmlsu40.html#x62-1040009.1">9.1<!--tex4ht:ref: JobScripts --></a>). Thus
<span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span></span>, for instance, will evaluate, at run time, to the home directory of the account under which the
task executes (which isn&#8217;t necessarily the same account, or even the same host, that is running the
suite).
                                                                                         

                                                                                         
</p>
   <!--l. 2634--><div class="crosslinks"><p class="noindent">[<a 
href="cug-htmlsu33.html" >next</a>] [<a 
href="cug-htmlsu31.html" >prev</a>] [<a 
href="cug-htmlsu31.html#tailcug-htmlsu31.html" >prev-tail</a>] [<a 
href="cug-htmlsu32.html" >front</a>] [<a 
href="cug-htmlse7.html#cug-htmlsu32.html" >up</a>] </p></div>
<!--l. 2634--><p class="indent" >   <a 
 id="tailcug-htmlsu32.html"></a>   </p> 
</body></html> 
