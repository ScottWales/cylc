<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<!--http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd-->  
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head><title>Defining New Job Submission Methods</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<!-- xhtml,3,next,html --> 
<meta name="src" content="cug-html.tex" /> 
<meta name="date" content="2011-07-07 12:29:00" /> 
<link rel="stylesheet" type="text/css" href="cug-html.css" /> 
</head><body 
>
   <!--l. 3066--><div class="crosslinks"><p class="noindent">[<a 
href="cug-htmlse10.html" >next</a>] [<a 
href="cug-htmlsu40.html" >prev</a>] [<a 
href="cug-htmlsu40.html#tailcug-htmlsu40.html" >prev-tail</a>] [<a 
href="#tailcug-htmlsu41.html">tail</a>] [<a 
href="cug-htmlse9.html#cug-htmlsu41.html" >up</a>] </p></div>
   <h4 class="subsectionHead"><span class="titlemark">9.4   </span> <a 
 id="x64-970009.4"></a>Defining New Job Submission Methods</h4>
<!--l. 3068--><p class="noindent" >Defining a new job submission method requires some minimal amount of Python programming. You can derive (in
the sense of object oriented programming inheritance) new methods from one of the existing ones, or directly from
cylc&#8217;s job submission base class, </p><!--l. 3072-->
   <div class="lstlisting" id="listing-76"><span class="label"><a 
 id="x64-97001r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_DIR</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">src</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">submission</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">job_submit</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">py</span>
   
   </div>
<!--l. 3075--><p class="indent" >   using the existing methods as examples. Most often this should be merely be a matter of defining the command
line used to execute the aforementioned job scripts, using the provided stdout and stderr file paths appropriately.
For example, here is the entire class code for the <span class="lstinline"><span 
class="pcrr7t-">background</span></span> method:
</p>
   <!--l. 3083-->
   <div class="lstlisting" id="listing-77"><span class="label"><a 
 id="x64-97002r1"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">!/</span><span 
class="pcrro7t-">usr</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">bin</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">env</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">python</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97003r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97004r3"></a></span><span 
class="pcrb7t-">from</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">job_submit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">import</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">job_submit</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97005r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97006r5"></a></span><span 
class="pcrb7t-">class</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">background</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">job_submit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">):</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97007r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97008r7"></a></span><span 
class="pcrr7t-">Run</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">script</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">directly</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">in</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">a</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">background</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">shell</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97009r8"></a></span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97010r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">def</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">construct_jobfile_submission_command</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">):</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97011r10"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">stdin</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">redirection</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">allows</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">background</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">execution</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">on</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">remote</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">hosts</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97012r11"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">command</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">jobfile_path</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">&#x003C;/</span><span 
class="pcrr7t-">dev</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">null</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">\</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97013r12"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">1&#x003E;</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">stdout_file</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">2&#x003E;</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">stderr_file</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97014r13"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">EOF</span>
   
   </div>
<!--l. 3099--><p class="indent" >   Here is the <span class="lstinline"><span 
class="pcrr7t-">at_now</span></span> method:
</p>
   <!--l. 3101-->
   <div class="lstlisting" id="listing-78"><span class="label"><a 
 id="x64-97015r1"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">!/</span><span 
class="pcrro7t-">usr</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">bin</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">env</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">python</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97016r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97017r3"></a></span><span 
class="pcrb7t-">from</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">job_submit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">import</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">job_submit</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97018r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97019r5"></a></span><span 
class="pcrb7t-">class</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">at_now</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">job_submit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">):</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97020r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97021r7"></a></span><span 
class="pcrr7t-">Submit</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">script</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">to</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">at</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">scheduler</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">to</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">now</span><span 
class="pcrr7t-">'.</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97022r8"></a></span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97023r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">def</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">construct_jobfile_submission_command</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">):</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97024r10"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">command</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">at</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">now</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">&#x003C;&#x003C;</span><span 
class="pcrr7t-">EOF</span><span 
class="pcrr7t-">\</span><span 
class="pcrr7t-">n</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">jobfile_path</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">\</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97025r11"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">1&#x003E;</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">stdout_file</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">2&#x003E;</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">stderr_file</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">\</span><span 
class="pcrr7t-">nEOF</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97026r12"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">EOF</span>
   
   </div>
<!--l. 3116--><p class="indent" >   Finally, even the <span class="lstinline"><span 
class="pcrr7t-">loadleveler</span></span> method is quite simple:
</p>
   <!--l. 3118-->
   <div class="lstlisting" id="listing-79"><span class="label"><a 
 id="x64-97027r1"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">!/</span><span 
class="pcrro7t-">usr</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">bin</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">env</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">python</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97028r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97029r3"></a></span><span 
class="pcrb7t-">from</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">job_submit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">import</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">job_submit</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97030r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97031r5"></a></span><span 
class="pcrb7t-">class</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">loadleveler</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">job_submit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">):</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97032r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97033r7"></a></span><span 
class="pcrr7t-">Minimalist</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">loadleveler</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">submission</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97034r8"></a></span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97035r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">def</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">set_directives</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">):</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97036r10"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">directive_prefix</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">#</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">@</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97037r11"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">final_directive</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">#</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">@</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">queue</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97038r12"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97039r13"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">defaults</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">{}</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97040r14"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">defaults</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">job_name</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">task_id</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97041r15"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">defaults</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">output</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">stdout_file</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97042r16"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">defaults</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">error</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">stderr_file</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97043r17"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97044r18"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">defaults</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">shell</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">bin</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">ksh</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97045r19"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97046r20"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">in</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">case</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">user</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">wants</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">to</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">override</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">above</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">defaults</span><span 
class="pcrro7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97047r21"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">for</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">d</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">in</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">directives</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97048r22"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">defaults</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">d</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">directives</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">d</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97049r23"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">directives</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">defaults</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97050r24"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97051r25"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">def</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">construct_jobfile_submission_command</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">):</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97052r26"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">command</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">llsubmit</span><span 
class="pcrr7t-">&#x2423;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">jobfile_path</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x64-97053r27"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">EOF</span>
   
   </div>
<!--l. 3148--><p class="indent" >   To use your new method, save it in a source file with the same name as the job submission class (see examples
above), install it in the cylc source tree, </p><!--l. 3151-->
   <div class="lstlisting" id="listing-80"><span class="label"><a 
 id="x64-97054r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_DIR</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">src</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">submission</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">MyNewJobSubmitMethod</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">py</span>
   
   </div>
<!--l. 3154--><p class="indent" >   and, in the spec file <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_DIR</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">conf</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">suiterc</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">spec</span></span>, add its name to the list of allowed values for the
suite.rc <span 
class="cmti-10">job submission method </span>configuration items at suite level and in the tasks section.
</p>
   <!--l. 3163--><div class="crosslinks"><p class="noindent">[<a 
href="cug-htmlse10.html" >next</a>] [<a 
href="cug-htmlsu40.html" >prev</a>] [<a 
href="cug-htmlsu40.html#tailcug-htmlsu40.html" >prev-tail</a>] [<a 
href="cug-htmlsu41.html" >front</a>] [<a 
href="cug-htmlse9.html#cug-htmlsu41.html" >up</a>] </p></div>
<!--l. 3163--><p class="indent" >   <a 
 id="tailcug-htmlsu41.html"></a> </p> 
</body></html> 
