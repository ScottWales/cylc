CYLC METASCHEDULER CHANGE LOG, INITIALIZED after version 3.0.3.

Non-trivial changes of relevance to users are listed. All changes are
likely to involve unlisted minor updates and corrections to cylc 
documentation (User Guide, command line help, and GUI help).

Version number X.Y.Z incrementing:
  X - major changes
  Y - significant changes
  Z - minor changes and bug fixes

3.0.4
 + More documentation of error detection in task scripts.
 + 'cylc admin create-cdb' now uses its own test suite.

3.0.5
 + Clarified graph-based control GUI help.

3.1.0
 + Allow use of lockserver in simulation mode.
 + New suite compare/diff functionality added.

3.2.0
 + Big speed up for large suites due to some optimization of the
   scheduling algorithm.
 + Monospaced fonts in GUI output capture windows.

3.3.0
 + Updated the terminal monitor to display held (paused) tasks properly.
 + Entirely eliminated the need for explicit task wrapping:
   - moved 'task started' and 'task succeeded' messages, and automatic
   'task failed' messaging, to the generated task job script.
   - task scripts now only have to call 'task succeeded/failed', and
     only for tasks whose initiating processes detach and exit early.
   - this means the entire task job script is now seen by cylc, not just 
     the (formerly) wrapped command line.
   - task-specific pre-command scripting is no longer needed - instead
     the task command string can contain multiline scripting.
 + New variable $CYLC_SUITE_ENVIRONMENT in the task execution environment
   for use in custom wrappers for tasks with manual completion messaging.
 + Added and documented new example suite to illustrate custom task wrapping.

3.3.1
 + Fixed a typo in writing out the new $CYLC_SUITE_ENVIRONMENT to job
 scripts, which could break new-style custom wrappers for detaching tasks. 

3.3.2
 + Fixed a bug introduced at 3.2.0 that prevented failed tasks from 
   becoming 'unfailed' after retriggering them.

3.3.3
 + Full path configuration for suite state dump and log directories.
 + Fixed recently introduced bug affecting loadleveler job submission: an
   executable statement appeared before the directives in task job scripts.

3.3.4
 + Autogenerated HTML version of the User Guide added.
 + Fixed a bug introduced at 3.2.0 affecting suite warm starts:
   - a misspelled function call in bin/_run caused suite warm starts to fail.
 + Fixed a bug introduced at 3.3.0 affecting detached tasks in simulation mode:
   -  Since eliminating 'cylc wrap' tasks that handle their own
      completion messaging in real mode need automatic completion in sim mode.  
 + Documented local installation of Pyro, Graphviz, and Pygraphviz.
 + Documented how to upgrade to a new version of cylc.

 3.3.5
 + Fix a bug that affected task submission and execution timeouts:
   - if a timeout was set, the hook script was called even if the event
     did occur in time - which should cancel the timeout.
 + More detailed documentation of complete installation by non-root users.

 3.3.6
 + Documentation of graphviz installation without QT.
 + Improved detection of errors in suite.rc graph hours headings.
 + Improved detection of erroneous suite registrations on the command line.
 + Fixed a bug in 'cylc log' command task filtering.
 + At installation, unregister example suites from admin user's private db.
 + Task event hook script argument list changed. Cylc now calls:
     <hook script> EVENT SUITE TASK CTIME MESSAGE
   The new SUITE argument is particularly needed if running multiple suites.
   WARNING: this change will break existing task event hook scripts.
 + Added a task event hook script to 'cylc util' that sends email alerts.

3.3.7
 + Disabled the cylc lockserver by default.
 + Altered environment.sh to work with 'set -u'.
 + Better task error trapping: in addition to trapping processes that
 abort with non-zero exit status (ERR signal) cylc now also registers
 task failure after unexpected exit with normal exit status (EXIT
 signal), process termination by the TERM signal (e.g. by 'kill PID' or
 'llcancel JOBID'), and termination (e.g. by the batch scheduler) due
 to exceeding some system time limit (XCPU signal).

 
3.4.0 (4 August 2011)

  + Fixed bug introduced in 3.3.7: trapping of EXIT signal must be 
  turned off at the end of job scripts for detaching tasks (which
  handle their own completion messaging).

  + Task event hook script argument list changed again. It is now:
     <hook script> EVENT SUITE TASKID MESSAGE
  where TASKID works with both cycling and non-cycling (asynchronous)
  tasks. WARNING: this will break existing task event hook scripts.
  
  + Also, the EVENT argument for job submission failures is now
  "submission_failed" rather than "submit_failed", to be more consistent
  with the associated suite.rc item.

  + Disabled run time graphing by default, in suite.rc [visualization]. 
  It is mainly intended for use in cylc development and debugging.
  WARNING: this breaks existing suite.rc run time graph settings.

  + Initial and final cycles for graph plotting can now be provided in 
  the suite.rc file, and can be overridden on the command line.

  + Initial and final cycle times can now be provided in the suite.rc
  file, and optionally overridden on the command line.

  + Fixed a lockserver bug, introduced in March 2011, that only affected
  owned tasks.

  + Added asynchronous tasks (no cycle time):
    - one-off asynchronous tasks for any non-cycling jobs.
    - repeating asynchronous tasks for processing satellite passes.

  + Made the User Guide accessible from GUI help menus.

3.4.0-a (bug fix release 5 Aug 2011)

  + Fixed a bug affecting detaching tasks in simulation mode only - job
  script EXIT signal trapping was not being cleared before exiting. 
  + Fixed a bug in the FFTask example suite (which is not actually
  referred to in the User Guide yet) - it had not been upgraded for
  compatibility with recent cylc versions.
